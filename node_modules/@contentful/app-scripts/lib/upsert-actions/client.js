"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createAction = createAction;
exports.getExistingAction = getExistingAction;
exports.updateAction = updateAction;
const chalk_1 = require("chalk");
async function createAction(client, appDefinitionId, payload) {
    const action = await client.appAction.create({
        appDefinitionId,
    }, payload);
    console.log(`
			${(0, chalk_1.cyan)('Success!')} Created Action ${(0, chalk_1.cyan)(action.name)} with ID ${(0, chalk_1.cyan)(action.sys.id)} for App ${(0, chalk_1.cyan)(appDefinitionId)}.`);
    return action;
}
async function getExistingAction(client, appDefinitionId, appActionId) {
    try {
        return await client.appAction.get({
            appDefinitionId,
            appActionId,
        });
    }
    catch (err) {
        if (err.name === 'NotFound') {
            return null;
        }
        throw err;
    }
}
async function updateAction(client, appDefinitionId, appActionId, payload) {
    const action = await client.appAction.update({
        appDefinitionId,
        appActionId,
    }, payload);
    console.log(`
			${(0, chalk_1.cyan)('Success!')} Updated Action ${(0, chalk_1.cyan)(action.name)} with ID ${(0, chalk_1.cyan)(appActionId)} for App ${(0, chalk_1.cyan)(appDefinitionId)}.`);
    return action;
}
