"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.buildBundleActivateSettings = buildBundleActivateSettings;
const inquirer_1 = __importDefault(require("inquirer"));
const get_app_info_1 = require("../get-app-info");
async function buildBundleActivateSettings(options) {
    const { bundleId, host } = options;
    const prompts = [];
    if (!bundleId) {
        prompts.push({
            name: 'bundleId',
            message: `The id of the bundle you want to activate (required):`,
            validate: (input) => input.length > 0,
        });
    }
    if (!host) {
        prompts.push({
            name: 'host',
            message: `Contentful CMA endpoint URL:`,
            default: 'api.contentful.com',
        });
    }
    const { host: interactiveHost, ...appActivateSettings } = await inquirer_1.default.prompt(prompts);
    const hostValue = host || interactiveHost;
    const appInfo = await (0, get_app_info_1.getAppInfo)({ ...options, host: hostValue });
    return {
        bundleId,
        host: hostValue,
        ...appActivateSettings,
        ...appInfo,
    };
}
