"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.createZipFileFromDirectory = createZipFileFromDirectory;
const chalk_1 = __importDefault(require("chalk"));
const adm_zip_1 = __importDefault(require("adm-zip"));
const utils_1 = require("../utils");
const node_path_1 = require("node:path");
async function createZipFileFromDirectory(path) {
    try {
        const zip = new adm_zip_1.default();
        zip.addLocalFolder((0, node_path_1.resolve)(path));
        console.log("");
        console.log(`  ----------------------------

  ${chalk_1.default.yellow('Done!')} Files from ${chalk_1.default.dim(path)} successfully zipped.

  ----------------------------`);
        console.log("");
        return zip.toBuffer();
    }
    catch (err) {
        (0, utils_1.showCreationError)('zip file', err.message);
        return null;
    }
}
