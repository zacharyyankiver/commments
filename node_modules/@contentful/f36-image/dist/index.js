'use strict';

var a = require('react');
var emotion = require('emotion');
var f36Core = require('@contentful/f36-core');
var f36Skeleton = require('@contentful/f36-skeleton');

function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }

var a__default = /*#__PURE__*/_interopDefault(a);

var R=Object.defineProperty,S=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var r=Object.getOwnPropertySymbols;var f=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable;var p=(o,t,e)=>t in o?R(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,I=(o,t)=>{for(var e in t||(t={}))f.call(t,e)&&p(o,e,t[e]);if(r)for(var e of r(t))d.call(t,e)&&p(o,e,t[e]);return o},l=(o,t)=>S(o,w(t));var c=(o,t)=>{var e={};for(var m in o)f.call(o,m)&&t.indexOf(m)<0&&(e[m]=o[m]);if(o!=null&&r)for(var m of r(o))t.indexOf(m)<0&&d.call(o,m)&&(e[m]=o[m]);return e};var y=({height:o,width:t})=>({image:({isLoaded:e})=>emotion.css({display:e?"block":"none",height:e?o:0,opacity:e?1:0,width:e?t:0}),root:emotion.css({height:o,width:t})});function B(H,x){var n=H,{className:o,height:t,src:e,testId:m="cf-ui-image",width:i}=n,u=c(n,["className","height","src","testId","width"]);let s=y({height:t,width:i}),{ref:C,loaded:L,onLoad:k}=f36Core.useImageLoaded(),g=!!(e&&L);return a__default.default.createElement("div",{className:s.root},a__default.default.createElement("img",l(I({},u),{className:emotion.cx(s.image({isLoaded:g}),o),"data-test-id":m,onLoad:k,ref:f36Core.mergeRefs(C,x),src:e})),!g&&a__default.default.createElement(f36Skeleton.Skeleton.Container,null,a__default.default.createElement(f36Skeleton.Skeleton.Image,{height:t,width:i})))}var E=a.forwardRef(B);

exports.Image = E;
//# sourceMappingURL=out.js.map
//# sourceMappingURL=index.js.map