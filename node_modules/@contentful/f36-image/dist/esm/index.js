import a, { forwardRef } from 'react';
import { cx, css } from 'emotion';
import { useImageLoaded, mergeRefs } from '@contentful/f36-core';
import { Skeleton } from '@contentful/f36-skeleton';

var R=Object.defineProperty,S=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var r=Object.getOwnPropertySymbols;var f=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable;var p=(o,t,e)=>t in o?R(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,I=(o,t)=>{for(var e in t||(t={}))f.call(t,e)&&p(o,e,t[e]);if(r)for(var e of r(t))d.call(t,e)&&p(o,e,t[e]);return o},l=(o,t)=>S(o,w(t));var c=(o,t)=>{var e={};for(var m in o)f.call(o,m)&&t.indexOf(m)<0&&(e[m]=o[m]);if(o!=null&&r)for(var m of r(o))t.indexOf(m)<0&&d.call(o,m)&&(e[m]=o[m]);return e};var y=({height:o,width:t})=>({image:({isLoaded:e})=>css({display:e?"block":"none",height:e?o:0,opacity:e?1:0,width:e?t:0}),root:css({height:o,width:t})});function B(H,x){var n=H,{className:o,height:t,src:e,testId:m="cf-ui-image",width:i}=n,u=c(n,["className","height","src","testId","width"]);let s=y({height:t,width:i}),{ref:C,loaded:L,onLoad:k}=useImageLoaded(),g=!!(e&&L);return a.createElement("div",{className:s.root},a.createElement("img",l(I({},u),{className:cx(s.image({isLoaded:g}),o),"data-test-id":m,onLoad:k,ref:mergeRefs(C,x),src:e})),!g&&a.createElement(Skeleton.Container,null,a.createElement(Skeleton.Image,{height:t,width:i})))}var E=forwardRef(B);

export { E as Image };
//# sourceMappingURL=out.js.map
//# sourceMappingURL=index.js.map