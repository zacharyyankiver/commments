'use strict';

var g = require('react');
var f36Core = require('@contentful/f36-core');
var emotion = require('emotion');
var n = require('@contentful/f36-tokens');
var f36Typography = require('@contentful/f36-typography');
var f36Icons = require('@contentful/f36-icons');
var f36Collapse = require('@contentful/f36-collapse');

function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }

var g__default = /*#__PURE__*/_interopDefault(g);
var n__default = /*#__PURE__*/_interopDefault(n);

var _=Object.defineProperty,j=Object.defineProperties;var U=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var R=(o,e,r)=>e in o?_(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r,a=(o,e)=>{for(var r in e||(e={}))$.call(e,r)&&R(o,r,e[r]);if(y)for(var r of y(e))k.call(e,r)&&R(o,r,e[r]);return o},l=(o,e)=>j(o,U(e));var d=(o,e)=>{var r={};for(var t in o)$.call(o,t)&&e.indexOf(t)<0&&(r[t]=o[t]);if(o!=null&&y)for(var t of y(o))e.indexOf(t)<0&&k.call(o,t)&&(r[t]=o[t]);return r};var w=({className:o})=>({accordion:emotion.cx(emotion.css({boxSizing:"border-box",padding:"0",margin:"0",listStyle:"none","&:first-child":{borderTop:`1px solid ${n__default.default.gray300}`}}),o)});var K=(p,m)=>{var i=p,{align:o="end",children:e,className:r,testId:t="cf-ui-accordion"}=i,s=d(i,["align","children","className","testId"]);let x=w({className:r});return g__default.default.createElement(f36Core.Box,l(a({as:"ul",className:x.accordion,testId:t},s),{ref:m}),g__default.default.Children.map(e,c=>g__default.default.isValidElement(c)?g__default.default.cloneElement(c,{align:o}):c))},v=g__default.default.forwardRef(K);var Q=({align:o})=>emotion.cx(emotion.css({display:"flex",flexDirection:"row",alignItems:"center",border:"0",margin:0,padding:n__default.default.spacingM,backgroundColor:"transparent",fontFamily:n__default.default.fontStackPrimary,fontSize:n__default.default.fontSizeL,fontWeight:n__default.default.fontWeightDemiBold,lineHeight:n__default.default.lineHeightL,color:n__default.default.gray800,width:"100%",minWidth:"9px",cursor:"pointer",transition:`background-color ${n__default.default.transitionDurationDefault} ${n__default.default.transitionEasingDefault},
        box-shadow ${n__default.default.transitionDurationShort} ${n__default.default.transitionEasingDefault}`,"&:focus":{backgroundColor:n__default.default.gray100,borderRadius:n__default.default.borderRadiusMedium,boxShadow:n__default.default.glowPrimary,outline:"none"},"&:focus:not(:focus-visible)":{backgroundColor:"transparent",borderRadius:"unset",boxShadow:"unset"},"&:focus-visible":{backgroundColor:n__default.default.gray100,borderRadius:n__default.default.borderRadiusMedium,boxShadow:n__default.default.glowPrimary},"&:hover, &:focus:hover, &:focus-visible:hover":{backgroundColor:n__default.default.gray100}}),o==="end"&&emotion.css({flexDirection:"row-reverse",justifyContent:"space-between"})),Y=({align:o,isExpanded:e})=>emotion.cx(emotion.css({transform:"rotate(0deg)",transition:`transform ${n__default.default.transitionDurationDefault} ${n__default.default.transitionEasingDefault}`}),o==="end"&&emotion.css({marginLeft:n__default.default.spacingM}),o==="start"&&emotion.css({marginRight:n__default.default.spacingM}),e&&emotion.css({transform:"rotate(180deg)"})),N=o=>({accordionHeader:Q(o),accordionHeaderIcon:Y(o)});var h=x=>{var c=x,{children:o,onClick:e,isExpanded:r=!1,ariaId:t,element:s="h2",align:m="end",testId:p="cf-ui-accordion-header"}=c,i=d(c,["children","onClick","isExpanded","ariaId","element","align","testId"]);let u=N({align:m,isExpanded:r});return g__default.default.createElement(f36Typography.Subheading,l(a({},i),{testId:p,marginBottom:"none",as:s}),g__default.default.createElement("button",{type:"button","aria-expanded":r,"aria-controls":`accordion-panel--${t}`,id:`accordion--${t}`,className:u.accordionHeader,onClick:e},g__default.default.createElement(f36Icons.ChevronDownTrimmedIcon,{className:u.accordionHeaderIcon,variant:"secondary"}),o))};var M=()=>({accordionPanelContent:emotion.css({width:"100%",padding:`${n__default.default.spacingXs} ${n__default.default.spacingM} ${n__default.default.spacingM}`})});var E=m=>{var p=m,{children:o,isExpanded:e=!1,ariaId:r,testId:t="cf-ui-accordion-panel"}=p,s=d(p,["children","isExpanded","ariaId","testId"]);let i=M();return g__default.default.createElement(f36Collapse.Collapse,a({"data-test-id":t,"aria-labelledby":`accordion--${r}`,isExpanded:e},s),g__default.default.createElement("div",{className:i.accordionPanelContent},o))};var O=({className:o})=>({accordionItem:emotion.cx(emotion.css({padding:"0",margin:"0",borderBottom:`1px solid ${n__default.default.colorElementMid}`,"&:first-child":{borderTop:`1px solid ${n__default.default.colorElementMid}`}}),o)});var so=(po,u)=>{var H=po,{title:o="Accordion Title",titleElement:e="h2",testId:r="cf-ui-accordion-item",onExpand:t,onCollapse:s,children:m,align:p="end",className:i,isExpanded:x}=H,c=d(H,["title","titleElement","testId","onExpand","onCollapse","children","align","className","isExpanded"]);let F=O({className:i}),P=f36Core.useId(),{isOpen:b,handleOpen:z,handleClose:W}=f36Core.useControllableState({isOpen:x,onOpen:t,onClose:s}),V=()=>{b?W():z();};return g__default.default.createElement(f36Core.Box,l(a({as:"li",className:F.accordionItem,testId:`${r}-${P}`},c),{ref:u}),g__default.default.createElement(h,{onClick:V,isExpanded:b,element:e,ariaId:P,align:p},o),g__default.default.createElement(E,{ariaId:P,isExpanded:b},m))},S=g__default.default.forwardRef(so);var T=v;T.Item=S;

exports.Accordion = T;
exports.AccordionHeader = h;
exports.AccordionItem = S;
exports.AccordionPanel = E;
//# sourceMappingURL=out.js.map
//# sourceMappingURL=index.js.map