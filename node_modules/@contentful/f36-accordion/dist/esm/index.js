import g from 'react';
import { Box, useId, useControllableState } from '@contentful/f36-core';
import { cx, css } from 'emotion';
import n from '@contentful/f36-tokens';
import { Subheading } from '@contentful/f36-typography';
import { ChevronDownTrimmedIcon } from '@contentful/f36-icons';
import { Collapse } from '@contentful/f36-collapse';

var _=Object.defineProperty,j=Object.defineProperties;var U=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var R=(o,e,r)=>e in o?_(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r,a=(o,e)=>{for(var r in e||(e={}))$.call(e,r)&&R(o,r,e[r]);if(y)for(var r of y(e))k.call(e,r)&&R(o,r,e[r]);return o},l=(o,e)=>j(o,U(e));var d=(o,e)=>{var r={};for(var t in o)$.call(o,t)&&e.indexOf(t)<0&&(r[t]=o[t]);if(o!=null&&y)for(var t of y(o))e.indexOf(t)<0&&k.call(o,t)&&(r[t]=o[t]);return r};var w=({className:o})=>({accordion:cx(css({boxSizing:"border-box",padding:"0",margin:"0",listStyle:"none","&:first-child":{borderTop:`1px solid ${n.gray300}`}}),o)});var K=(p,m)=>{var i=p,{align:o="end",children:e,className:r,testId:t="cf-ui-accordion"}=i,s=d(i,["align","children","className","testId"]);let x=w({className:r});return g.createElement(Box,l(a({as:"ul",className:x.accordion,testId:t},s),{ref:m}),g.Children.map(e,c=>g.isValidElement(c)?g.cloneElement(c,{align:o}):c))},v=g.forwardRef(K);var Q=({align:o})=>cx(css({display:"flex",flexDirection:"row",alignItems:"center",border:"0",margin:0,padding:n.spacingM,backgroundColor:"transparent",fontFamily:n.fontStackPrimary,fontSize:n.fontSizeL,fontWeight:n.fontWeightDemiBold,lineHeight:n.lineHeightL,color:n.gray800,width:"100%",minWidth:"9px",cursor:"pointer",transition:`background-color ${n.transitionDurationDefault} ${n.transitionEasingDefault},
        box-shadow ${n.transitionDurationShort} ${n.transitionEasingDefault}`,"&:focus":{backgroundColor:n.gray100,borderRadius:n.borderRadiusMedium,boxShadow:n.glowPrimary,outline:"none"},"&:focus:not(:focus-visible)":{backgroundColor:"transparent",borderRadius:"unset",boxShadow:"unset"},"&:focus-visible":{backgroundColor:n.gray100,borderRadius:n.borderRadiusMedium,boxShadow:n.glowPrimary},"&:hover, &:focus:hover, &:focus-visible:hover":{backgroundColor:n.gray100}}),o==="end"&&css({flexDirection:"row-reverse",justifyContent:"space-between"})),Y=({align:o,isExpanded:e})=>cx(css({transform:"rotate(0deg)",transition:`transform ${n.transitionDurationDefault} ${n.transitionEasingDefault}`}),o==="end"&&css({marginLeft:n.spacingM}),o==="start"&&css({marginRight:n.spacingM}),e&&css({transform:"rotate(180deg)"})),N=o=>({accordionHeader:Q(o),accordionHeaderIcon:Y(o)});var h=x=>{var c=x,{children:o,onClick:e,isExpanded:r=!1,ariaId:t,element:s="h2",align:m="end",testId:p="cf-ui-accordion-header"}=c,i=d(c,["children","onClick","isExpanded","ariaId","element","align","testId"]);let u=N({align:m,isExpanded:r});return g.createElement(Subheading,l(a({},i),{testId:p,marginBottom:"none",as:s}),g.createElement("button",{type:"button","aria-expanded":r,"aria-controls":`accordion-panel--${t}`,id:`accordion--${t}`,className:u.accordionHeader,onClick:e},g.createElement(ChevronDownTrimmedIcon,{className:u.accordionHeaderIcon,variant:"secondary"}),o))};var M=()=>({accordionPanelContent:css({width:"100%",padding:`${n.spacingXs} ${n.spacingM} ${n.spacingM}`})});var E=m=>{var p=m,{children:o,isExpanded:e=!1,ariaId:r,testId:t="cf-ui-accordion-panel"}=p,s=d(p,["children","isExpanded","ariaId","testId"]);let i=M();return g.createElement(Collapse,a({"data-test-id":t,"aria-labelledby":`accordion--${r}`,isExpanded:e},s),g.createElement("div",{className:i.accordionPanelContent},o))};var O=({className:o})=>({accordionItem:cx(css({padding:"0",margin:"0",borderBottom:`1px solid ${n.colorElementMid}`,"&:first-child":{borderTop:`1px solid ${n.colorElementMid}`}}),o)});var so=(po,u)=>{var H=po,{title:o="Accordion Title",titleElement:e="h2",testId:r="cf-ui-accordion-item",onExpand:t,onCollapse:s,children:m,align:p="end",className:i,isExpanded:x}=H,c=d(H,["title","titleElement","testId","onExpand","onCollapse","children","align","className","isExpanded"]);let F=O({className:i}),P=useId(),{isOpen:b,handleOpen:z,handleClose:W}=useControllableState({isOpen:x,onOpen:t,onClose:s}),V=()=>{b?W():z();};return g.createElement(Box,l(a({as:"li",className:F.accordionItem,testId:`${r}-${P}`},c),{ref:u}),g.createElement(h,{onClick:V,isExpanded:b,element:e,ariaId:P,align:p},o),g.createElement(E,{ariaId:P,isExpanded:b},m))},S=g.forwardRef(so);var T=v;T.Item=S;

export { T as Accordion, h as AccordionHeader, S as AccordionItem, E as AccordionPanel };
//# sourceMappingURL=out.js.map
//# sourceMappingURL=index.js.map