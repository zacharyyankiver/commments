'use strict';

var emotion = require('emotion');
var u = require('react');
var f36Core = require('@contentful/f36-core');
var a = require('@contentful/f36-tokens');
var f36Typography = require('@contentful/f36-typography');
var f36Icons = require('@contentful/f36-icons');
var f36Utils = require('@contentful/f36-utils');

function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }

var u__default = /*#__PURE__*/_interopDefault(u);
var a__default = /*#__PURE__*/_interopDefault(a);

var pe=Object.defineProperty,ie=Object.defineProperties;var de=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var L=(e,o,t)=>o in e?pe(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,n=(e,o)=>{for(var t in o||(o={}))A.call(o,t)&&L(e,t,o[t]);if(C)for(var t of C(o))O.call(o,t)&&L(e,t,o[t]);return e},s=(e,o)=>ie(e,de(o));var d=(e,o)=>{var t={};for(var r in e)A.call(e,r)&&o.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&C)for(var r of C(e))o.indexOf(r)<0&&O.call(e,r)&&(t[r]=e[r]);return t};var $=()=>({inline:emotion.css({borderRadius:a__default.default.borderRadiusMedium,boxShadow:`0 0 0 1px ${a__default.default.gray200}`,"th:first-child":{borderTopLeftRadius:a__default.default.borderRadiusMedium},"th:last-child":{borderTopRightRadius:a__default.default.borderRadiusMedium},"tr:last-child td:first-child":{borderBottomLeftRadius:a__default.default.borderRadiusMedium},"tr:last-child td:last-child":{borderBottomRightRadius:a__default.default.borderRadiusMedium}}),embedded:emotion.css({borderBottom:`1px solid ${a__default.default.gray200}`}),root:emotion.css({width:"100%"})});var z=u.createContext({}),F=()=>u.useContext(z),G=z.Provider;var H=u.forwardRef((b,p)=>{var i=b,{children:e,className:o,layout:t="inline",testId:r="cf-ui-table",verticalAlign:l="top"}=i,m=d(i,["children","className","layout","testId","verticalAlign"]);let T=$();return u__default.default.createElement(f36Core.Box,s(n({cellPadding:"0",cellSpacing:"0"},m),{as:"table",display:"table",ref:p,className:emotion.cx(T.root,T[t],o),testId:r}),u__default.default.createElement(G,{value:{verticalAlign:l}},e))});H.displayName="Table";function D(m,l){var p=m,{className:e,children:o,testId:t="cf-ui-table-body"}=p,r=d(p,["className","children","testId"]);return u__default.default.createElement(f36Core.Box,s(n({},r),{as:"tbody",className:e,ref:l,testId:t}),o)}D.displayName="TableBody";var B=u.forwardRef(D);var g={body:{name:"body",as:"td",offsetTop:0},head:{name:"head",as:"th",offsetTop:0}},I=u.createContext(g.body),E=()=>u.useContext(I),M=I.Provider;var V=({align:e,isSortable:o,isTableHead:t,verticalAlign:r})=>({button:emotion.css({alignItems:"flex-start",appearance:"none",background:"none",border:0,color:"inherit",cursor:"pointer",display:"inline-flex",gap:a__default.default.spacing2Xs,outline:0,padding:a__default.default.spacingS,"&:focus":{backgroundColor:a__default.default.gray100,boxShadow:a__default.default.glowPrimary},"&:focus:not(:focus-visible)":{backgroundColor:"unset",boxShadow:"unset"},"&:focus-visible":{backgroundColor:a__default.default.gray100,boxShadow:a__default.default.glowPrimary}}),container:emotion.css({backgroundColor:a__default.default.colorWhite,borderBottom:`1px solid ${a__default.default.gray200}`,padding:o?0:a__default.default.spacingS,textAlign:e,color:t?a__default.default.gray600:a__default.default.gray700,fontWeight:t?a__default.default.fontWeightMedium:a__default.default.fontWeightNormal,verticalAlign:r}),sortIcon:l=>emotion.css({fill:a__default.default.gray400,opacity:l?1:0,transition:`opacity ${a__default.default.transitionEasingCubicBezier} ${a__default.default.transitionDurationDefault}`})});var X=(t=>(t.Ascending="ascending",t.Descending="descending",t))(X||{}),ve={ascending:f36Icons.SortAscendingIcon,descending:f36Icons.SortDescendingIcon};function j(T,i){var f=T,{align:e="left",children:o,className:t,isSortable:r,sortDirection:l,testId:m="cf-ui-table-cell",sortButtonAriaLabel:p}=f,b=d(f,["align","children","className","isSortable","sortDirection","testId","sortButtonAriaLabel"]);let[k,x]=u.useState(!1),{as:ee,name:oe,offsetTop:te}=E(),{verticalAlign:re}=F(),le=ve[l],S=oe==="head",R=V({isSortable:S?r:void 0,isTableHead:S,align:e,verticalAlign:re}),ae=S?f36Typography.Caption:f36Typography.Text,ne=r?{"aria-sort":l!=null?l:"none",onBlur:()=>x(!1),onFocus:()=>x(!0),onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1)}:{},se=u.useMemo(()=>f36Utils.getTextFromChildren(o),[o]),W=o;return r&&(W=u__default.default.createElement("button",{"aria-label":p!=null?p:`Sort ${l==="ascending"?"descending":"ascending"} by ${se}`,className:R.button,type:"button"},o,l?u__default.default.createElement(le,{size:"tiny",variant:"secondary"}):u__default.default.createElement(f36Icons.SortIcon,{"aria-hidden":!k,className:R.sortIcon(k),size:"tiny",variant:"secondary"}))),u__default.default.createElement(ae,s(n(n({},b),ne),{as:ee,className:emotion.cx(R.container,t),ref:i,style:s(n({},b.style),{top:te||void 0}),testId:m}),W)}j.displayName="TableCell";var N=u.forwardRef(j);var K=()=>({root:emotion.css({color:a__default.default.gray600}),sticky:emotion.css({th:{position:"sticky",top:0,zIndex:a__default.default.zIndexDefault}})});var P=u.forwardRef((b,p)=>{var i=b,{children:e,className:o,isSticky:t=!1,offsetTop:r,testId:l="cf-ui-table-head"}=i,m=d(i,["children","className","isSticky","offsetTop","testId"]);let T=K(),f=emotion.cx(T.root,t&&T.sticky,o);return u__default.default.createElement(M,{value:s(n({},g.head),{offsetTop:r||0})},u__default.default.createElement(f36Core.Box,s(n({},m),{as:"thead",className:f,ref:p,testId:l}),e))});P.displayName="TableHead";var Z=()=>({root:emotion.css({"&:last-child td":{borderBottom:"none"},"&:hover td":{backgroundColor:a__default.default.gray100}}),selected:emotion.css({"td, th":{backgroundColor:a__default.default.gray100}})});var h=u.forwardRef((p,m)=>{var b=p,{className:e,children:o,isSelected:t=!1,testId:r="cf-ui-table-row"}=b,l=d(b,["className","children","isSelected","testId"]);let i=Z();return u__default.default.createElement(f36Core.Box,s(n({},l),{as:"tr",className:emotion.cx(i.root,{[i.selected]:t},e),ref:m,testId:r}),o)});h.displayName="TableRow";var y=H;y.Row=h;y.Head=P;y.Cell=N;y.Body=B;

exports.Table = y;
exports.TableBody = B;
exports.TableCell = N;
exports.TableCellContext = I;
exports.TableCellContextProvider = M;
exports.TableCellSorting = X;
exports.TableHead = P;
exports.TableRow = h;
exports.contextOptions = g;
exports.useTableCellContext = E;
//# sourceMappingURL=out.js.map
//# sourceMappingURL=index.js.map