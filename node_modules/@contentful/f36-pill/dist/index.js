'use strict';

var l = require('react');
var emotion = require('emotion');
var f36Tooltip = require('@contentful/f36-tooltip');
var f36Icons = require('@contentful/f36-icons');
var f36Button = require('@contentful/f36-button');
var f36DragHandle = require('@contentful/f36-drag-handle');
var o = require('@contentful/f36-tokens');

function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }

var l__default = /*#__PURE__*/_interopDefault(l);
var o__default = /*#__PURE__*/_interopDefault(o);

var I=Object.defineProperty;var n=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var P=(t,r,e)=>r in t?I(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,i=(t,r)=>{for(var e in r||(r={}))b.call(r,e)&&P(t,e,r[e]);if(n)for(var e of n(r))y.call(r,e)&&P(t,e,r[e]);return t};var h=(t,r)=>{var e={};for(var a in t)b.call(t,a)&&r.indexOf(a)<0&&(e[a]=t[a]);if(t!=null&&n)for(var a of n(t))r.indexOf(a)<0&&y.call(t,a)&&(e[a]=t[a]);return e};var B=()=>emotion.css({borderLeft:`1px solid ${o__default.default.gray400}`,borderTopLeftRadius:0,borderBottomLeftRadius:0,padding:o__default.default.spacingXs,minHeight:"auto",transition:`background ${o__default.default.transitionDurationShort} ${o__default.default.transitionEasingDefault},
    opacity ${o__default.default.transitionDurationDefault} ${o__default.default.transitionEasingDefault}`,"&:focus":{boxShadow:o__default.default.glowMuted,borderLeftColor:o__default.default.gray300},"&:hover, &:focus, &:active":{backgroundColor:o__default.default.gray300}}),M=()=>emotion.css({color:o__default.default.gray700,lineHeight:o__default.default.lineHeightM,padding:o__default.default.spacingXs,fontSize:o__default.default.fontSizeM,flexGrow:2,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}),W=t=>{let r=e=>{switch(e){case"active":return {background:o__default.default.gray300};case"deleted":return {background:o__default.default.gray200,textDecoration:"line-through",opacity:"0.5"};default:return {background:o__default.default.gray200}}};return emotion.css(i({display:"inline-flex",fontFamily:o__default.default.fontStackPrimary,alignItems:"center",borderRadius:o__default.default.borderRadiusSmall,border:"none",padding:0,maxWidth:"100%"},r(t)))};function x(t){return {closeButton:B(),label:M(),icon:emotion.css({fill:o__default.default.gray600,verticalAlign:"middle",outline:"none"}),pill:W(t)}}var v=l__default.default.forwardRef((t,r)=>{let f=t,{isDraggable:e,label:a,onClose:d,closeButtonAriaLabel:C="Close",testId:D="cf-ui-pill",onDrag:c,className:S,dragHandleComponent:m,variant:L="idle"}=f,k=h(f,["isDraggable","label","onClose","closeButtonAriaLabel","testId","onDrag","className","dragHandleComponent","variant"]),p=x(L),[H,g]=l__default.default.useState(!1),T=l__default.default.useCallback(u=>{if(!u)return;let{scrollWidth:w,offsetWidth:E}=u.parentElement;g(w>E);},[g]);return l__default.default.createElement("div",i({className:emotion.cx(p.pill,S),"data-test-id":D,onDrag:c,ref:r},k),(e||c)&&(m||l__default.default.createElement(f36DragHandle.DragHandle,{label:"Reorder item",variant:"transparent"})),l__default.default.createElement(f36Tooltip.Tooltip,{content:a,maxWidth:"none",targetWrapperClassName:p.label,isDisabled:!H},l__default.default.createElement("span",{ref:T},a)),d&&l__default.default.createElement(f36Button.Button,{type:"button",variant:"transparent",startIcon:l__default.default.createElement(f36Icons.CloseIcon,null),"aria-label":C,onClick:d,className:p.closeButton}))});v.displayName="Pill";

exports.Pill = v;
//# sourceMappingURL=out.js.map
//# sourceMappingURL=index.js.map