'use strict';

var b = require('react');
var emotion = require('emotion');
var f36Core = require('@contentful/f36-core');
var f36Badge = require('@contentful/f36-badge');
var f36Asset = require('@contentful/f36-asset');
var f36Skeleton = require('@contentful/f36-skeleton');
var f36DragHandle = require('@contentful/f36-drag-handle');
var n = require('@contentful/f36-tokens');
var f36Typography = require('@contentful/f36-typography');
var f36Button = require('@contentful/f36-button');
var f36Icons = require('@contentful/f36-icons');
var f36Menu = require('@contentful/f36-menu');
var Tr = require('truncate');
var f36Tooltip = require('@contentful/f36-tooltip');

function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }

var b__default = /*#__PURE__*/_interopDefault(b);
var n__default = /*#__PURE__*/_interopDefault(n);
var Tr__default = /*#__PURE__*/_interopDefault(Tr);

var jr=Object.defineProperty,Yr=Object.defineProperties;var Kr=Object.getOwnPropertyDescriptors;var z=Object.getOwnPropertySymbols;var pr=Object.prototype.hasOwnProperty,lr=Object.prototype.propertyIsEnumerable;var dr=(r,e,t)=>e in r?jr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,l=(r,e)=>{for(var t in e||(e={}))pr.call(e,t)&&dr(r,t,e[t]);if(z)for(var t of z(e))lr.call(e,t)&&dr(r,t,e[t]);return r},y=(r,e)=>Yr(r,Kr(e));var h=(r,e)=>{var t={};for(var o in r)pr.call(r,o)&&e.indexOf(o)<0&&(t[o]=r[o]);if(r!=null&&z)for(var o of z(r))e.indexOf(o)<0&&lr.call(r,o)&&(t[o]=r[o]);return t};var mr=()=>({contentBody:emotion.css({gridColumn:"content",gridRow:"content",whiteSpace:"initial"}),wrapper:emotion.css({flex:"1 1 0",display:"grid",gridTemplateRows:"[header] auto [content] minmax(0, 1fr)",gridTemplateColumns:"auto [content] minmax(0, 1fr)"}),dragHandle:emotion.css({borderBottomLeftRadius:n__default.default.borderRadiusMedium,borderTopLeftRadius:n__default.default.borderRadiusMedium,cursor:"grab"}),root:({hasHeader:r,isHovered:e,isSelected:t})=>{let o={backgroundColor:n__default.default.colorWhite,borderColor:n__default.default.gray300,borderRadius:n__default.default.borderRadiusMedium,borderStyle:"solid",borderWidth:1,color:n__default.default.gray900,display:"flex",textAlign:"left",width:"100%",fontSize:n__default.default.fontSizeM,fontWeight:n__default.default.fontWeightNormal,position:"relative",textDecoration:"none",margin:0,transition:`border-color ${n__default.default.transitionDurationDefault} ${n__default.default.transitionEasingDefault},
    box-shadow ${n__default.default.transitionDurationShort} ${n__default.default.transitionEasingDefault}`,"&:focus":emotion.css({borderColor:t?n__default.default.blue100:n__default.default.blue500,boxShadow:n__default.default.glowPrimary,outline:"none"}),"&:focus:not(:focus-visible)":emotion.css({borderColor:t?n__default.default.blue500:n__default.default.gray300,boxShadow:"unset"}),"&:focus-visible":emotion.css({borderColor:n__default.default.blue500,boxShadow:n__default.default.glowPrimary})};return r||(o.paddingTop=n__default.default.spacingM),e&&(o.borderColor=n__default.default.blue500,o.cursor="pointer"),t&&(o.backgroundColor=n__default.default.blue100,o.borderColor=n__default.default.blue500),emotion.css(o)},skeleton:emotion.css({border:`1px solid ${n__default.default.gray300}`,borderRadius:n__default.default.borderRadiusMedium,padding:n__default.default.spacingM})});var cr=()=>({root:emotion.css({minHeight:"auto",padding:n__default.default.spacing2Xs})});var v=({buttonProps:r,children:e})=>{let t=cr();return b__default.default.createElement(f36Menu.Menu,null,b__default.default.createElement(f36Menu.Menu.Trigger,null,b__default.default.createElement(f36Button.IconButton,y(l({"aria-label":"Actions",icon:b__default.default.createElement(f36Icons.MoreHorizontalIcon,null)},r),{className:emotion.cx(t.root,r==null?void 0:r.className),size:"small",variant:"transparent",testId:"cf-ui-card-actions"}))),b__default.default.createElement(f36Menu.Menu.List,null,e))};var te=()=>({header:emotion.css({columnGap:n__default.default.spacingXs,rowGap:n__default.default.spacing2Xs,alignItems:"center",borderBottomColor:n__default.default.gray200,borderBottomStyle:"solid",borderBottomWidth:1,borderTopLeftRadius:n__default.default.borderRadiusMedium,borderTopRightRadius:n__default.default.borderRadiusMedium,boxSizing:"border-box",color:n__default.default.gray600,fontSize:n__default.default.fontSizeM,fontWeight:n__default.default.fontWeightNormal,gridColumn:"content",gridRow:"header",lineHeight:n__default.default.lineHeightM,paddingBottom:n__default.default.spacingXs,paddingLeft:n__default.default.spacingM,paddingRight:n__default.default.spacingXs,paddingTop:n__default.default.spacingXs,minHeight:"37px"}),headerWithActions:emotion.css({paddingBottom:n__default.default.spacing2Xs,paddingRight:n__default.default.spacingXs,paddingTop:n__default.default.spacing2Xs})}),O=r=>{r.preventDefault(),r.stopPropagation();},G=r=>{let{icon:e,type:t,actions:o,actionsButtonProps:s,badge:m,customActionButton:i}=r,d=te(),c=()=>i?b__default.default.createElement(f36Core.Flex,{onClick:O,alignItems:"center"},i):o&&o.length>0?b__default.default.createElement(f36Core.Flex,{onClick:O,alignItems:"center"},b__default.default.createElement(v,{buttonProps:s},o)):null;return b__default.default.createElement(f36Core.Flex,{flexWrap:"wrap",className:emotion.cx(d.header,(o||i)&&d.headerWithActions)},b__default.default.createElement(f36Core.Flex,{flexGrow:1},t&&b__default.default.createElement(f36Typography.Text,{fontColor:"gray600",isWordBreak:!0},t)),e&&b__default.default.createElement(f36Core.Flex,{alignItems:"center"},e),m&&b__default.default.createElement(f36Core.Flex,{alignItems:"center"},m),c())};G.displayName="DefaultCardHeader";var de="article";function gr(Ie,vr){var nr=Ie,{actions:r,actionsButtonProps:e,ariaLabel:t,badge:o,children:s,className:m,contentBodyProps:i,customActionButton:d,header:c,href:g,icon:f,isDragging:p=!1,isHovered:u,isSelected:R=!1,onBlur:M,onClick:x,onFocus:B,onKeyDown:A,onMouseEnter:P,onMouseLeave:L,target:Y,rel:wr,testId:kr="cf-ui-base-card",title:Z,type:rr,withDragHandle:er,dragHandleRender:tr,isLoading:Rr}=nr,or=h(nr,["actions","actionsButtonProps","ariaLabel","badge","children","className","contentBodyProps","customActionButton","header","href","icon","isDragging","isHovered","isSelected","onBlur","onClick","onFocus","onKeyDown","onMouseEnter","onMouseLeave","target","rel","testId","title","type","withDragHandle","dragHandleRender","isLoading"]);let W=mr(),[Fr,ar]=b.useState(u!=null?u:!1),sr=!!(x||g||er),Nr=!!c,Wr=rr||f||o||r||d?b__default.default.createElement(G,{type:rr,icon:f,badge:o,actions:r,customActionButton:d,actionsButtonProps:e}):null,Xr=b.useCallback(E=>{B&&B(E);},[B]),Gr=b.useCallback(E=>{M&&M(E);},[M]),Ur=b.useCallback(E=>{ar(!0),P&&P(E);},[P]),$r=b.useCallback(E=>{ar(!1),L&&L(E);},[L]),zr=x?E=>{x(E);}:void 0,Or=b.useCallback(E=>{A&&A(E);},[A]);if(Rr)return b__default.default.createElement(f36Skeleton.Skeleton.Container,{className:W.skeleton,svgHeight:"5.6rem"},b__default.default.createElement(f36Skeleton.Skeleton.DisplayText,{numberOfLines:1}),b__default.default.createElement(f36Skeleton.Skeleton.BodyText,{numberOfLines:1,offsetTop:35}));let ir=b__default.default.createElement(f36DragHandle.DragHandle,{className:W.dragHandle,isActive:p,label:"Reorder entry",onClick:O});return b__default.default.createElement(f36Core.Box,y(l({"aria-label":Z||t,"aria-pressed":or.as==="button"?R?"true":"false":void 0,as:de,className:emotion.cx(W.root({hasHeader:Nr,isHovered:Fr,isSelected:R}),m),href:g,onBlur:Gr,onClick:zr,onFocus:Xr,onMouseEnter:typeof u=="undefined"&&sr?Ur:void 0,onMouseLeave:typeof u=="undefined"&&sr?$r:void 0,onKeyDown:Or,rel:g&&(wr||"noreferrer"),role:x&&!g?"button":void 0,tabIndex:x?0:void 0,target:Y},or),{ref:vr,testId:kr,title:Z}),er?tr?tr({drag:ir,isDragging:p}):ir:null,b__default.default.createElement("div",{className:W.wrapper,"data-card-part":"wrapper"},c!=null?c:Wr,b__default.default.createElement("div",{className:W.contentBody,"data-card-part":"content"},s)))}gr.displayName="BaseCard";var D=b.forwardRef(gr);var ur=()=>({root:({size:r})=>emotion.css({display:"inline-flex",width:"auto",borderRadius:n__default.default.borderRadiusMedium,minWidth:`calc(1rem * (120 / ${n__default.default.fontBaseDefault}))`,height:r==="small"?`calc(1rem * (188 / ${n__default.default.fontBaseDefault}))`:`calc(1rem * (300 / ${n__default.default.fontBaseDefault}))`,padding:0,textAlign:"center"}),asset:emotion.css({height:"100%"}),skeleton:emotion.css({border:`1px solid ${n__default.default.gray300}`,borderRadius:n__default.default.borderRadiusMedium,padding:n__default.default.spacingM})});var Cr=M=>{var x=M,{actions:r,className:e,icon:t=null,isSelected:o,size:s="default",src:m,status:i,title:d,type:c,withDragHandle:g=!1,isLoading:f,testId:p="cf-ui-asset-card",badge:u}=x,R=h(x,["actions","className","icon","isSelected","size","src","status","title","type","withDragHandle","isLoading","testId","badge"]);let B=ur(),A=u||(i?b__default.default.createElement(f36Badge.EntityStatusBadge,{entityStatus:i}):null),P=t||A||r?b__default.default.createElement(G,{icon:t,badge:A,actions:r}):null;return f?b__default.default.createElement(f36Skeleton.Skeleton.Container,{className:B.skeleton,svgWidth:s==="default"?"18rem":"11rem",svgHeight:s==="default"?"18.75rem":"12rem"},b__default.default.createElement(f36Skeleton.Skeleton.Image,{width:"100%",height:"18.75rem"})):b__default.default.createElement(D,y(l({},R),{badge:A,className:emotion.cx(B.root({size:s}),e),header:P,isSelected:o,title:d,withDragHandle:g,testId:p}),b__default.default.createElement(f36Core.Flex,{alignItems:"center",fullHeight:!0,justifyContent:"center"},b__default.default.createElement(f36Asset.Asset,{className:B.asset,src:m,status:i,title:d,type:c})))};var fe=r=>{switch(r){case"large":return n__default.default.spacingL;case"none":return 0;default:return n__default.default.spacingM}},xr=({padding:r})=>({header:emotion.css({gridColumn:"content",gridRow:"header",marginBottom:n__default.default.spacingM}),root:emotion.css({padding:fe(r)})});function Br(g,c){var f=g,{actions:r,badge:e,icon:t,padding:o="default",title:s,className:m,testId:i="cf-ui-card"}=f,d=h(f,["actions","badge","icon","padding","title","className","testId"]);let p=xr({padding:o}),u=!!(s||t||e||r);return b__default.default.createElement(D,y(l({className:emotion.cx(p.root,m)},d),{testId:i,header:u&&b__default.default.createElement(f36Core.Flex,{alignItems:"center",className:emotion.cx(p.header)},s&&b__default.default.createElement(f36Core.Flex,{as:"header",flexGrow:1},b__default.default.createElement(f36Typography.Heading,{marginBottom:"none"},s)),t&&b__default.default.createElement(f36Core.Flex,{alignItems:"center",marginLeft:"spacingXs"},t),e&&b__default.default.createElement(f36Core.Flex,{alignItems:"center",marginLeft:"spacingXs"},e),r&&b__default.default.createElement(v,null,r)),ref:c}))}Br.displayName="Card";var br=b.forwardRef(Br);var Ar=()=>({actionsButton:emotion.css({borderBottomLeftRadius:0,borderBottomRightRadius:0,borderTopLeftRadius:0,borderTopRightRadius:n__default.default.borderRadiusMedium}),content:r=>emotion.css({gridColumn:"content",marginTop:r==="small"?n__default.default.spacingXs:n__default.default.spacingS,marginBottom:r==="small"?`calc(-1 * ${n__default.default.spacingXs})`:0}),root:emotion.css({padding:0,'[data-card-part="content"]':{paddingBottom:n__default.default.spacingM,paddingLeft:n__default.default.spacingM,paddingRight:n__default.default.spacingM}}),header:emotion.css({borderBottomWidth:1,borderBottomColor:n__default.default.gray200,borderBottomStyle:"solid",minHeight:"auto",paddingBottom:n__default.default.spacingXs,paddingLeft:n__default.default.spacingM,paddingRight:n__default.default.spacingXs}),thumbnail:r=>emotion.css(l({margin:`0 0 0 ${n__default.default.spacingS}`,padding:0,overflow:"hidden",position:"relative",img:{width:"100%",height:"100%",objectFit:"cover",position:"absolute",zIndex:1}},r==="small"?{height:"40px",width:"40px"}:{height:"70px",width:"70px"}))});var Be="article";function Ir({title:r,titleTag:e}){if(!r)return null;let t=Tr__default.default(r,255,{});return b__default.default.createElement(f36Typography.Subheading,{title:r.length>255?r:"",testId:"title",as:e,marginBottom:"none",isWordBreak:!0},t)}Ir.displayName="EntryCardTitle";function Sr({description:r,size:e}){if(!r||e==="small")return null;let t=Tr__default.default(r,95,{});return b__default.default.createElement(f36Typography.Paragraph,{marginBottom:"none",isWordBreak:!0},t)}Sr.displayName="EntryCardDescription";function Dr(A,B){var P=A,{actions:r,children:e,className:t,customActionButton:o,src:s,status:m,thumbnailElement:i,description:d,withDragHandle:c=!1,title:g,titleTag:f="h2",size:p,testId:u="cf-ui-entry-card",contentType:R,badge:M}=P,x=h(P,["actions","children","className","customActionButton","src","status","thumbnailElement","description","withDragHandle","title","titleTag","size","testId","contentType","badge"]);let L=Ar(),Y=m?b__default.default.createElement(f36Badge.EntityStatusBadge,{entityStatus:m}):null;return b__default.default.createElement(D,y(l({as:Be},x),{actions:r,badge:M||Y,className:emotion.cx(L.root,t),customActionButton:o,withDragHandle:c,ref:B,type:R,testId:u}),b__default.default.createElement(f36Core.Flex,{alignItems:"center",className:L.content(p),flexDirection:"row"},b__default.default.createElement(f36Core.Flex,{flexDirection:"column",flexGrow:1,gap:"spacingS"},b__default.default.createElement(Ir,{title:g,titleTag:f}),b__default.default.createElement(Sr,{size:p,description:d}),e),i&&p!=="small"&&b__default.default.createElement("figure",{className:L.thumbnail(p)},i)))}Dr.displayName="EntryCard";var Hr=b.forwardRef(Dr);var Mr=()=>({actions:emotion.css({display:"flex",padding:0,marginLeft:n__default.default.spacingXs,minHeight:"auto"}),root:({status:r})=>{let e=f36Core.getEntityStatusStyles({status:r});return emotion.css({borderBottomLeftRadius:0,borderTopLeftRadius:0,display:"inline-flex",width:"auto",verticalAlign:"middle",paddingBottom:0,paddingTop:0,paddingLeft:n__default.default.spacingS,paddingRight:n__default.default.spacing2Xs,'[data-card-part="wrapper"]':{display:"inline-flex",flexDirection:"row-reverse"},"&::before":{backgroundColor:e.color,bottom:0,content:'""',display:"block",left:0,position:"absolute",top:0,width:n__default.default.spacing2Xs}})},skeleton:emotion.css({display:"inline-flex",border:`1px solid ${n__default.default.gray300}`,borderTopRightRadius:n__default.default.borderRadiusMedium,borderBottomRightRadius:n__default.default.borderRadiusMedium,padding:n__default.default.spacingXs})});var _r=c=>{var g=c,{actions:r,className:e,children:t,status:o,title:s,isLoading:m,testId:i="cf-ui-inline-entry-card"}=g,d=h(g,["actions","className","children","status","title","isLoading","testId"]);let f=Mr(),p=b__default.default.createElement(v,{buttonProps:{className:f.actions}},r);return m?b__default.default.createElement(f36Skeleton.Skeleton.Container,{className:f.skeleton,svgHeight:"1.25rem",svgWidth:"6rem"},b__default.default.createElement(f36Skeleton.Skeleton.BodyText,{numberOfLines:1})):b__default.default.createElement(f36Tooltip.Tooltip,{placement:"bottom",content:s},b__default.default.createElement(D,y(l({},d),{className:emotion.cx(f.root({status:o}),e),header:p,testId:i}),t||b__default.default.createElement(f36Typography.Text,null,s)))};

exports.AssetCard = Cr;
exports.Card = br;
exports.EntryCard = Hr;
exports.InlineEntryCard = _r;
//# sourceMappingURL=out.js.map
//# sourceMappingURL=index.js.map